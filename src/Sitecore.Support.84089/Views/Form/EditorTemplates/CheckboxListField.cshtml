@using Sitecore.Forms.Mvc.ViewModels.Fields
@using Sitecore.WFFM.Abstractions.Data.Enums
@using Sitecore.Forms.Mvc.Html
@model CheckboxListField

@using (Html.BeginField())
{
    var notInline = Model.FormType != FormType.Inline;
    foreach (var item in Model.Items)
    {
        using (Html.BeginTag("div", () => notInline, new { @class = "checkbox" }))
        {
            using (Html.BeginTag("label", new { @class = notInline ? string.Empty : "checkbox-inline" }))
            {
                // Sitecore.Support.84089
                if (Model.IsRequired)
                {
                    <input type="checkbox" value="@item.Value" id="@Html.IdFor(x => Model.Value)" name="@Html.NameFor(x => Model.Value)" @(item.Selected ? "checked" : string.Empty) class="input-validation-error" aria-required="true" data-val="true" data-val-ischecked="The @Model.Title field is required." data-val-ischecked-tracking="{7E86B2F5-ACEC-4C60-8922-4EB5AE5D9874}" data-val-required="The Value field is required." />
                }
                else
                {
                    <input type="checkbox" value="@item.Value" id="@Html.IdFor(x => Model.Value)" name="@Html.NameFor(x => Model.Value)" @(item.Selected ? "checked" : string.Empty) />
                }
                @Html.DisplayFor(m => item.Text)
            }
        }
    }
}